%\VignetteEngine{knitr}
%\VignetteIndexEntry{Using the USTYC package}

Using the USTYC package
=======================

The `ustyc` package provides a function to retrieve the US Treasury's yield curve data directly from the US Treasury Department web site's feed service. By default the function retrieves all of the data provided which encompasses 12 products (one month through 30 year maturity) with daily yields since January 1, 1990.  The function converts the downloaded XML data into an R data frame with sample dates as row names and product yields as columns.  The function returns a list of items as a `ustyc` class.  

See the reference [web site][ustws] for details regarding the data.  

In the simplest example one can retrieve all of the available data:

```{r}
require(ustyc)
yc = getYieldCurve()
summary(yc)
head(yc$df)
```

To convert this data frame into an `xts` object using the row names for the ordering date:

```{r}
require(xts)
xt = xts(yc$df,order.by=as.Date(rownames(yc$df)))
```

To then plot this object as a time series with `lattice` the example might continue as follows:

```{r,fig.width=10,fig.height=10}
require(lattice)
xyplot.ts(xt,scales=list(y=list(relation="same")),ylab="Yield (%)")
xyplot.ts(xt,superpose=TRUE,auto.key=list(columns=4),ylab="Yield (%)")
```

To fetch from the service only a particular year's yield curve for a faster response, try

```{r}
require(ustyc)
yc2012 = getYieldCurve(year=2012)
summary(yc2012)
```


[ustws]: http://data.treasury.gov/feed.svc/DailyTreasuryYieldCurveRateData